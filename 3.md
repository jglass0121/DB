# 📘 3. 논리적 데이터 모델링

## 💡 정의

ERD(개념적 모델)를 실제 관계형 데이터베이스의 **논리 구조로 변환하는 과정**입니다.

이 단계에서는 **정규화(Normalization)** 와 **PK/FK 지정**, **속성 정리** 등을 통해

데이터 중복을 최소화하고 이상현상을 방지합니다.

---

## 🧱 변환의 기본 원칙

| 구분 | 변환 기준 |
| --- | --- |
| 엔터티(Entity) | 테이블(Table)로 변환 |
| 속성(Attribute) | 컬럼(Column)으로 변환 |
| 관계(Relationship) | 외래키(Foreign Key)로 표현 |

---

## 🧭 Crow’s Foot Notation (크로우 풋 표기법)

📌 관계형 스키마에서 **관계의 수(Cardinality)** 를 시각적으로 표현하는 표기법입니다.

![image.png](attachment:db0faac7-5082-4579-9957-d2fe6697f3b7:image.png)

| 표기 | 의미 | 예시 |
| --- | --- | --- |
| `0` | 선택적 관계 (없을 수도 있음) |  |
| `1` | 반드시 하나 |  |
| `N` | 여러 개 (다수 관계) |  |
| `0..1` | 최소 0, 최대 1 | 사용자 ↔ 프리미엄 구독 |
| `0..N` | 최소 0, 최대 N | 사용자 ↔ 게시글 |
| `1..N` | 최소 1, 최대 N | 사용자 ↔ 프로필 |

---

## 🧩 카디널리티(Cardinality) 예시

### 1️⃣ 0..1 관계

> “사용자는 프리미엄 구독권을 가질 수도 있고, 안 가질 수도 있다.
> 
> 
> 단, 동시에 두 개는 불가능하다.”
> 

### 2️⃣ 0..N 관계

> “사용자는 게시글을 0개 이상 작성할 수 있다.”
> 

### 3️⃣ 1..N 관계

> “사용자는 최소 1개의 프로필을 가져야 하며, 여러 개를 가질 수도 있다.”
> 

### 4️⃣ Only One (1:1 관계)

> “모든 사용자는 하나의 생체인증 정보를 가져야 하며,
> 
> 
> 그 정보는 오직 한 사용자에게만 연결된다.”
> 

---

## 🧩 예시: 사용자 – 게시글 관계

**ERD → 논리 모델 변환**

| 엔터티 | 컬럼 | 비고 |
| --- | --- | --- |
| 사용자(User) | 사용자ID, 이메일, 비밀번호 | PK: 사용자ID |
| 게시글(Post) | 게시글ID, 작성자ID, 제목, 본문 | PK: 게시글ID, FK: 작성자ID → User(사용자ID) |

---

### 📄 논리 모델 구조

```
사용자 (1) — (0..N) 게시글
```

- 사용자ID (PK)
- 이메일
- 비밀번호
    
    ↓
    
- 게시글ID (PK)
- 작성자ID (FK → 사용자ID)
- 제목
- 본문

---

## 🧱 Foreign Key (외래키)

📌 관계를 표현하기 위해 **다른 테이블의 기본키를 참조**하는 컬럼입니다.

예:

게시글(작성자ID) → 사용자(사용자ID)

이로써 “게시글은 반드시 존재하는 사용자가 작성한다”는 관계를 보장합니다.

---

## 💻 예시: 컬럼 타입 명세

| 테이블 | 컬럼 | 타입 | 제약조건 |
| --- | --- | --- | --- |
| User | user_id | INT UNSIGNED | PK, AUTO_INCREMENT |
| User | email | VARCHAR(100) | UNIQUE, NOT NULL |
| User | password | VARCHAR(255) | NOT NULL |
| Post | post_id | INT UNSIGNED | PK, AUTO_INCREMENT |
| Post | user_id | INT UNSIGNED | FK(User.user_id), NOT NULL |
| Post | title | VARCHAR(200) | NOT NULL |
| Post | content | TEXT |  |

---

## 💡 요약

- **엔터티 → 테이블**
- **속성 → 컬럼**
- **관계 → 외래키**
- **카디널리티**를 통해 관계 수(1:N, 1:1 등) 명확히 정의